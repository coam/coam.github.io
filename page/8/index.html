<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>商运物流</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="商运物流">
<meta property="og:url" content="https://coam.co/page/8/index.html">
<meta property="og:site_name" content="商运物流">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="商运物流">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="商运物流" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/author.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/">张亚飞</a></h1>
        </hgroup>

        
                


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="mailto:zyf@lonal.com" title="Email"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/zyfmix" title="GitHub"></a></li>
                            
                                <li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/markdown-gfw-hexo-jekyll/" style="font-size: 10px;">markdown gfw hexo jekyll</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://coam.co">商运物流</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/zyfmix/">GitHub</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://wp.iirii.com/">商运技术博客</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于物流设计</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">张亚飞</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img lazy-src="/img/author.jpg" class="js-avatar">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">张亚飞</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="mailto:zyf@lonal.com" title="Email"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/zyfmix" title="GitHub"></a></li>
                            
                                <li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
                            
                        </ul>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-Mysql/MysqlTrigger" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/10/Mysql/MysqlTrigger/" class="article-date">
      <time datetime="2016-01-10T11:41:31.000Z" itemprop="datePublished">2016-01-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/10/Mysql/MysqlTrigger/">Title</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="Mysql-触发器相关"><a href="#Mysql-触发器相关" class="headerlink" title="Mysql 触发器相关"></a>Mysql 触发器相关</h3><hr>
<h4 id="主要是触发Redis数据库更新-一般都有三种操作-对于数据表-AdminCustomerInfo"><a href="#主要是触发Redis数据库更新-一般都有三种操作-对于数据表-AdminCustomerInfo" class="headerlink" title="主要是触发Redis数据库更新,一般都有三种操作,对于数据表 AdminCustomerInfo"></a>主要是触发Redis数据库更新,一般都有三种操作,对于数据表 AdminCustomerInfo</h4><blockquote>
<p>T_AdminCustomerInfo_AI -&gt; AfterInsert</p>
</blockquote>
<pre><code>BEGIN
  DECLARE asId varchar(20);
  SET asId = CONCAT(&quot;C-&quot;,NEW.aiId);
  SET @ret= redis_command_v2(&quot;HSET&quot;,&quot;AccountInfoList&quot;,asId,
               json_object
               (
                   asId,
                   NEW.aiId AS aiId,
                   NEW.identityCardId AS identityCardId,
                   NEW.aInfoName AS aInfoName,
                   NEW.aInfoPicture AS aInfoPicture,
                   NEW.aInfoPhone AS aInfoPhone,
                   NEW.aInfoEmail AS aInfoEmail,
                   NEW.companyJoinState AS companyJoinState,
                   NEW.companyId AS companyId,
                   NEW.aInfoQQ AS aInfoQQ,
                   NEW.qqBind AS qqBind,
                   NEW.weChatBind AS weChatBind,
                   NEW.weiBoBind AS weiBoBind,
                   NEW.mailNotify AS mailNotify,
                   NEW.smsNotify AS smsNotify,
                   NEW.weChatNotify AS weChatNotify,
                   NEW.accountName AS accountName,
                   NEW.Password AS Password,
                   NEW.aInfoLevel AS aInfoLevel,
                   NEW.Balance AS Balance,
                   NEW.lastLogin AS lastLogin,
                   NEW.manId AS manId
               )
  );
  INSERT INTO App_RunInfo( asId )VALUES( asId );
END
</code></pre><blockquote>
<p>T_AdminCustomerInfo_AU -&gt; AfterUpdate</p>
</blockquote>
<pre><code>BEGIN
  DECLARE asId varchar(20);
  SET asId = CONCAT(&quot;C-&quot;,NEW.aiId);
  SET @ret= redis_command_v2(&quot;HSET&quot;,&quot;AccountInfoList&quot;,asId,
               json_object
               (
                   asId,
                   NEW.aiId AS aiId,
                   NEW.identityCardId AS identityCardId,
                   NEW.aInfoName AS aInfoName,
                   NEW.aInfoPicture AS aInfoPicture,
                   NEW.aInfoPhone AS aInfoPhone,
                   NEW.aInfoEmail AS aInfoEmail,
                   NEW.companyJoinState AS companyJoinState,
                   NEW.companyId AS companyId,
                   NEW.aInfoQQ AS aInfoQQ,
                   NEW.qqBind AS qqBind,
                   NEW.weChatBind AS weChatBind,
                   NEW.weiBoBind AS weiBoBind,
                   NEW.mailNotify AS mailNotify,
                   NEW.smsNotify AS smsNotify,
                   NEW.weChatNotify AS weChatNotify,
                   NEW.accountName AS accountName,
                   NEW.Password AS Password,
                   NEW.aInfoLevel AS aInfoLevel,
                   NEW.Balance AS Balance,
                   NEW.lastLogin AS lastLogin,
                   NEW.manId AS manId
               )
  );
END
</code></pre><blockquote>
<p>T_AdminCustomerInfo_AD -&gt; AfterDelete</p>
</blockquote>
<pre><code>BEGIN
  DECLARE asId varchar(20);
  SET asId = CONCAT(&quot;C-&quot;,OLD.aiId);
  SET @ret= redis_command_v2(&quot;HDEL&quot;,&quot;AccountInfoList&quot;,asId);
  DELETE FROM App_RunInfo WHERE asId = asId;
END
</code></pre><hr>
<h3 id="其它暂存"><a href="#其它暂存" class="headerlink" title="其它暂存"></a>其它暂存</h3><blockquote>
<p>AccountTransaction =&gt; AccountTradePays 表同步</p>
</blockquote>
<h3 id="一-同步插入交易记录"><a href="#一-同步插入交易记录" class="headerlink" title="一. 同步插入交易记录"></a>一. 同步插入交易记录</h3><pre><code>DELIMITER ||
    DROP TRIGGER IF EXISTS T_AfterInsert_ON_AccountTransaction ||
    CREATE TRIGGER T_AfterInsert_ON_AccountTransaction
    AFTER INSERT ON AccountTransaction
    FOR EACH ROW
    BEGIN
        INSERT INTO AccountTradePays( pSerial, asId, tradeMoney, tradeWay, tradeSource, tradeTitle, tradeContent, tradeState, cBalance )
        VALUES( NEW.tSerial, NEW.asId, NEW.tradeMoney, NEW.tradeWay, NEW.tradeSource, NEW.tradeTitle, NEW.tradeContent, NEW.tradeState, NEW.cBalance );
    END||
DELIMITER

DELIMITER &amp;&amp;
CREATE TRIGGER tri_memory_insert AFTER Insert ON T FOR EACH ROW
BEGIN
    insert into tempT(id,strName) VALUES(NEW.id,NEW.strName);
END &amp;&amp;
DELIMITER ;
</code></pre><hr>
<h3 id="二-同步更新触发器"><a href="#二-同步更新触发器" class="headerlink" title="二. 同步更新触发器"></a>二. 同步更新触发器</h3><pre><code>DELIMITER $$
    /*[DEFINER = { user | CURRENT_USER }]*/
    CREATE TRIGGER `a`.`触发器名` BEFORE UPDATE ON `a`.`table1`
    FOR EACH ROW BEGIN
        IF new.id != old.id THEN
            UPDATE `b`.`table2` SET `b`.`table2`.id=new.id WHERE `b`.`table2`.val=old.val;
        END IF;
    END$$
DELIMITER;

DELIMITER &amp;&amp;
    CREATE TRIGGER T_AfterUpdate_ON_AccountTransaction
    AFTER UPDATE ON AccountTransaction
    FOR EACH ROW
    BEGIN
        UPDATE AccountTradePays SET tradeState=NEW.tradeState WHERE pSerial = &quot;AT-&quot; + OLD.tId;
    END &amp;&amp;
DELIMITER ;
</code></pre><hr>
<h3 id="三-同步删除触发器"><a href="#三-同步删除触发器" class="headerlink" title="三. 同步删除触发器"></a>三. 同步删除触发器</h3><pre><code>DELIMITER ||
    DROP TRIGGER IF EXISTS T_AfterDelete_ON_AccountTransaction ||
    CREATE TRIGGER T_AfterDelete_ON_AccountTransaction
    AFTER DELETE ON AccountTransaction
    FOR EACH ROW
    BEGIN
        DELETE FROM AccountTradePays WHERE pSerial = &quot;AT-&quot; + OLD.tId;
    END||
DELIMITER;
</code></pre><hr>
<pre><code>DELIMITER &amp;&amp;
    CREATE TRIGGER tri_memory_delete AFTER DELETE ON T FOR EACH ROW
    BEGIN
        DELETE From tempT where tempT.id = OLD.id;
    END &amp;&amp;
DELIMITER ;

DECLARE vv varchar(20);
    set vv=InsertToEmail(names,&quot;zyff@iirii.com&quot;);
    INSERT INTO user_info (name,age,email,addr) VALUES(names,33,&quot;zyf@iirii.com&quot;,&quot;湖北东西湖&quot;);


BEGIN
    DECLARE vv varchar(20);
    set vv=InsertToEmail(names,&quot;zyff@iirii.com&quot;);
    INSERT INTO user_info (name,age,email,addr) VALUES(names,33,&quot;zyf@iirii.com&quot;,&quot;湖北东西湖&quot;);
END

BEGIN
    DECLARE vv varchar(20);
    DECLARE vvv varchar(20);
    set vv=InsertToUploadsFun(names,&quot;zyfffff@iirii.com&quot;);
    set vvv=InsertToEmailFun(names);
    INSERT INTO user_info (name,age,email,addr) VALUES(names,33,&quot;zyf@iirii.com&quot;,&quot;湖北东西湖&quot;);
END
</code></pre><hr>
<pre><code>BEGIN
  DECLARE asId varchar(20);
  SET asId = CONCAT(&quot;C-&quot;,NEW.Id);
  SET @ret= redis_command_v2(&quot;HSET&quot;,&quot;crmInboxEventsS&quot;,asId,
                            json_object
                            (
                                  json_members
                                  (
                                          &quot;op&quot;,
                                          &quot;insert&quot;,
                                          &quot;asId&quot;,
                                          asId,
                                          &quot;value&quot;,
                                          json_object
                                          (
                                              NEW.Id as &quot;id&quot;,NEW.type as &quot;type&quot;,
                                              NEW.mailserver_id as &quot;mailserverId&quot;,NEW.sender as &quot;sender&quot;,
                                              NEW.sender_name as &quot;senderName&quot;,NEW.recevier as &quot;recevier&quot;,
                                              NEW.replyto as &quot;replyto&quot;,NEW.bbemails as &quot;bbemails&quot;,
                                              NEW.ccemails as &quot;ccemails&quot;,NEW.subject as &quot;subject&quot;
                                          )
                                      )
                              )
                        );
END
</code></pre><hr>
<pre><code>BEGIN
  DECLARE asId varchar(20);
  SET asId = CONCAT(&quot;C-&quot;,NEW.Id);
  SET @ret= redis_command_v2(&quot;HSET&quot;,&quot;crmInboxEventsS&quot;,asId,
               json_object
               (
                   NEW.Id as &quot;id&quot;,NEW.type as &quot;type&quot;,
                   NEW.mailserver_id as &quot;mailserverId&quot;,NEW.sender as &quot;sender&quot;,
                   NEW.sender_name as &quot;senderName&quot;,NEW.recevier as &quot;recevier&quot;,
                   NEW.replyto as &quot;replyto&quot;,NEW.bbemails as &quot;bbemails&quot;,
                   NEW.ccemails as &quot;ccemails&quot;,NEW.subject as &quot;subject&quot;
               )
  );
END
</code></pre><hr>
<p>参考列表<br><a href="http://www.jianshu.com/p/8d62bef8688c" target="_blank" rel="external">MySQL触发器</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-Android/AndroidPushMQTT" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/10/Android/AndroidPushMQTT/" class="article-date">
      <time datetime="2016-01-10T11:41:31.000Z" itemprop="datePublished">2016-01-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/10/Android/AndroidPushMQTT/">Android 推送之 MQTT</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="Android-开发推送方案"><a href="#Android-开发推送方案" class="headerlink" title="Android 开发推送方案"></a>Android 开发推送方案</h2><h2 id="MQTT-服务器"><a href="#MQTT-服务器" class="headerlink" title="MQTT 服务器"></a>MQTT 服务器</h2><p>使用 emqttd broken<br><a href="https://github.com/emqtt/emqttd" target="_blank" rel="external">GitHub - emqtt/emqttd</a><br><a href="http://emqtt.io/" target="_blank" rel="external">官网</a></p>
<p><a href="https://github.com/emqtt/emqttd/wiki/Configuration" target="_blank" rel="external">emqttd 主要配置参数</a></p>
<p>emqttd 使用以下命令调试输出</p>
<pre><code>./bin/emqttd console
</code></pre><p>如果没有打印输出日志信息,可以参考取消 rel/files/emqttd.config.production 或 ./etc/emqttd.config 中对 %%{lager_console_backend, info} 的注释<br><a href="https://github.com/emqtt/emqttd/issues/407" target="_blank" rel="external">关于提问</a></p>
<hr>
<h4 id="MQTT-Android-客户端"><a href="#MQTT-Android-客户端" class="headerlink" title="MQTT Android 客户端"></a>MQTT Android 客户端</h4><blockquote>
<p>之前使用 IBM 提供的 wmqtt.jar 和 tokudu 项目示例</p>
</blockquote>
<p><a href="ftp://public.dhe.ibm.com/software/integration/support/supportpacs/individual/ia92.zip" target="_blank" rel="external">wmqtt.jar</a><br><a href="https://github.com/tokudu/AndroidPushNotificationsDemo" target="_blank" rel="external">tokudu/AndroidPushNotificationsDemo</a></p>
<blockquote>
<p>由于 wmqttd 几乎没有更新,于是采用新的Android客户端 <a href="http://www.eclipse.org/paho/" target="_blank" rel="external">Paho</a> 方案</p>
</blockquote>
<p>需要添加如下两个依赖 <a href="">org.eclipse.paho:org.eclipse.paho.client.mqttv3</a> 和 <a href="https://repo.eclipse.org/index.html#nexus-search;quick~paho.android" target="_blank" rel="external">org.eclipse.paho:org.eclipse.paho.android.service</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    // http://www.eclipse.org/paho/clients/android/</span><br><span class="line">    compile(<span class="string">'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.0.2'</span>)</span><br><span class="line">    compile(<span class="string">'org.eclipse.paho:org.eclipse.paho.android.service:1.0.2'</span>) &#123;</span><br><span class="line">        exclude module: <span class="string">"org.eclipse.paho.client.mqttv3"</span>, group: <span class="string">"org.eclipse.paho"</span></span><br><span class="line">        exclude module: <span class="string">"support-v4"</span>, group: <span class="string">"com.google.android"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>比较好的参考演示项目:<br><a href="https://github.com/jeffprestes/AndroidMQTTDemo" target="_blank" rel="external">jeffprestes/AndroidMQTTDemo</a><br><a href="http://www.eclipse.org/paho/clients/android/sample/" target="_blank" rel="external">样例使用示例</a></p>
<p>其它<br><a href="http://xiaoxinzhou.blog.163.com/blog/static/20704538620145411306821/" target="_blank" rel="external">MQTT协议实现Eclipse Paho学习总结一</a><br><a href="http://www.longdw.com/mqtt-server-client-android/" target="_blank" rel="external">编写和MQTT服务器通信的Android客户端程序(二)</a><br><a href="http://blog.csdn.net/zhu_tianwei/article/details/42983689" target="_blank" rel="external"> MQTT协议之订阅及发布(使用paho-mqtt-client或mqttv3实现)</a></p>
<hr>
<h4 id="服务器-PHP-客户端-SAM"><a href="#服务器-PHP-客户端-SAM" class="headerlink" title="服务器 PHP 客户端 SAM"></a>服务器 PHP 客户端 SAM</h4><blockquote>
<p>SAM 针对MQTT写的PHP库 (下载链接为Tokudu PHPMQTT通信项目),其中send_mqtt.php是一个通过POST接收消息并且通过SAM将消息发送给RSMB的PHP脚本.<br><a href="http://pecl.php.net/package/sam" target="_blank" rel="external">SAM</a></p>
<p>参考 tokudu 项目<br><a href="https://github.com/tokudu/PhpMQTTClient" target="_blank" rel="external">tokudu/PhpMQTTClient</a><br><a href="https://github.com/bluerhinos/phpMQTT" target="_blank" rel="external">bluerhinos/phpMQTT</a></p>
</blockquote>
<hr>
<h4 id="MQTT协议笔记之连接和心跳"><a href="#MQTT协议笔记之连接和心跳" class="headerlink" title="MQTT协议笔记之连接和心跳"></a>MQTT协议笔记之连接和心跳</h4><blockquote>
<p>几种 MQTT 协议 包 格式有: 连接(CONNECT). 心跳(PINGREQ/PINGRESP). 确认(CONNACK). 断开连接(DISCONNECT). 订阅(SUBSCRIBE). 取消订阅(SUBACK)</p>
</blockquote>
<hr>
<h5 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h5><p><a href="http://www.cnblogs.com/linsongbin/p/4736227.html" target="_blank" rel="external">mqtt 协议之 PINGREQ, PINGRESP</a><br><a href="http://www.blogjava.net/yongboy/archive/2014/02/09/409630.html" target="_blank" rel="external">MQTT协议笔记之连接和心跳</a></p>
<p><a href="http://bbs.hiapk.com/thread-4652657-1-1.html" target="_blank" rel="external">Android消息推送完美方案 </a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-PHP/phpMyAdmin" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/10/PHP/phpMyAdmin/" class="article-date">
      <time datetime="2016-01-10T11:41:31.000Z" itemprop="datePublished">2016-01-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/10/PHP/phpMyAdmin/">Title</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="phpMyAdmin-相关"><a href="#phpMyAdmin-相关" class="headerlink" title="phpMyAdmin 相关"></a>phpMyAdmin 相关</h3><p><a href="http://www.phpmyadmin.net/" target="_blank" rel="external">http://www.phpmyadmin.net/</a><br><a href="https://github.com/phpmyadmin/phpmyadmin" target="_blank" rel="external">phpmyadmin/phpmyadmin</a></p>
<ul>
<li>安装</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo wget https://github.com/phpmyadmin/phpmyadmin/archive/RELEASE_4_6_1.zip</span><br><span class="line">unzip RELEASE_4_6_1.zip</span><br></pre></td></tr></table></figure>
<ul>
<li>修改phpMyAdmin中的默认1440超时时间</li>
</ul>
<ol>
<li>修改PHP配置中 session 的过期时间.</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">session.gc_maxlifetime = <span class="number">1440</span></span><br><span class="line"><span class="comment"># 改为</span></span><br><span class="line">session.gc_maxlifetime = <span class="number">86400</span></span><br></pre></td></tr></table></figure>
<ol>
<li>修改phpMyAdmin配置中 session 的过期时间.</li>
</ol>
<p>找到并修改 <em>phpMyAdmin/libraries/config.default.php</em> 文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cfg</span>[<span class="string">'LoginCookieValidity'</span>] = <span class="number">1440</span>;</span><br><span class="line">// 改为</span><br><span class="line"><span class="variable">$cfg</span>[<span class="string">'LoginCookieValidity'</span>] = <span class="number">86400</span>;</span><br></pre></td></tr></table></figure>
<p>注意:</p>
<p>$cfg[‘LoginCookieValidity’] 的值不能大于 php.ini 里的 session.gc_maxlifetime 的值,否则 phpmyadmin 里会出现”您的 PHP 配置参数 session.gc_maxlifetime (外链,英文) 短于您在 phpMyAdmin 中设置的 Cookies 有效期,此您的登录会话有效期将会比您在 phpMyAdmin 中设置的时间要更短.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-Java/LearnSupportAnnotations" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/10/Java/LearnSupportAnnotations/" class="article-date">
      <time datetime="2016-01-10T11:41:31.000Z" itemprop="datePublished">2016-01-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/10/Java/LearnSupportAnnotations/">Title</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="Android注解支持-Support-Annotations"><a href="#Android注解支持-Support-Annotations" class="headerlink" title="Android注解支持(Support Annotations)"></a>Android注解支持(Support Annotations)</h3><p><a href="http://objccn.io/issue-11-6/" target="_blank" rel="external">依赖注入和注解,为什么 Java 比你想象的要好</a><br><a href="http://www.flysnow.org/2015/08/13/android-tech-docs-support-annotations.html" target="_blank" rel="external">Android注解支持(Support Annotations)</a><br><a href="http://www.nljb.net/default/Android%E4%B9%8B%E6%B3%A8%E8%A7%A3%E5%BC%8F%E6%A1%86%E6%9E%B6%E5%8F%8AButterknife%E7%9A%84%E4%BD%BF%E7%94%A8/" target="_blank" rel="external">Android之注解式框架及Butterknife的使用</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-Java/LearnRxJava" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/10/Java/LearnRxJava/" class="article-date">
      <time datetime="2016-01-10T11:41:31.000Z" itemprop="datePublished">2016-01-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/10/Java/LearnRxJava/">Title</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="RxJava-相关"><a href="#RxJava-相关" class="headerlink" title="RxJava 相关"></a>RxJava 相关</h4><p><a href="https://github.com/mcxiaoke/RxDocs" target="_blank" rel="external">mcxiaoke/RxDocs</a><br><a href="https://github.com/lzyzsd/Awesome-RxJava" target="_blank" rel="external">Awesome-RxJava</a><br><a href="https://github.com/ReactiveX/RxJava" target="_blank" rel="external">RxJava</a><br><a href="https://github.com/ReactiveX/RxAndroid" target="_blank" rel="external">RxAndroid</a><br><a href="https://www.gitbook.com/book/asce1885/android-rd-senior-advanced/details" target="_blank" rel="external">更上一层楼－Android研发工程师高级进阶</a><br><a href="http://www.zhihu.com/question/32179258/answer/54989242" target="_blank" rel="external">RxJava和EventBus的区别?</a><br><a href="https://asce1885.gitbooks.io/android-rd-senior-advanced/content/wo_wei_shi_yao_zhu_zhang_fan_dui_shi_yong_android_fragment.html" target="_blank" rel="external">我为什么主张反对使用Android Fragment</a><br><a href="http://www.jianshu.com/p/40050ded099c" target="_blank" rel="external">RxJava操作实例</a></p>
<p><a href="http://www.jianshu.com/p/2b0bbc5da03d" target="_blank" rel="external">使用StorIO,RxJava处理ContentProvider</a><br><a href="http://yuluoding.com/2016/01/09/RxJava%E5%BC%80%E5%8F%91%E7%B2%BE%E8%A6%81/" target="_blank" rel="external">RxJava开发精要</a><br><a href="https://github.com/yuxingxin/RxJava-Essentials-CN" target="_blank" rel="external">yuxingxin/RxJava-Essentials-CN</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-Java/LearnRetrolambda" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/10/Java/LearnRetrolambda/" class="article-date">
      <time datetime="2016-01-10T11:41:31.000Z" itemprop="datePublished">2016-01-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/10/Java/LearnRetrolambda/">Title</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="android上的JAVA8-使用retrolambda-一个让android支持lambda语法的扩展框架"><a href="#android上的JAVA8-使用retrolambda-一个让android支持lambda语法的扩展框架" class="headerlink" title="android上的JAVA8:使用retrolambda - (一个让android支持lambda语法的扩展框架)"></a>android上的JAVA8:使用retrolambda - (一个让android支持lambda语法的扩展框架)</h4><p><a href="https://github.com/orfjackal/retrolambda#gradle-plugin" target="_blank" rel="external">retrolambda GitHub</a><br><a href="https://github.com/evant/gradle-retrolambda" target="_blank" rel="external">gradle-retrolambda plugin</a><br><a href="http://juude.net/lambdajava/" target="_blank" rel="external">android上的JAVA8:使用retrolambda</a><br><a href="http://www.jianshu.com/p/5fc2b3362702" target="_blank" rel="external">jdk1.8新特性之lambda表达式及在Android Studio中的使用</a></p>
<p><a href="http://www.importnew.com/16436.html" target="_blank" rel="external">Java8 lambda表达式10个示例</a><br><a href="http://www.importnew.com/10360.html" target="_blank" rel="external">Java 8简明教程</a></p>
<p>Java8引入了 lambda 表达式,让许多开发者激动不已,本文介绍如何在Android上使用lambda.</p>
<p>首先下载 java8 sdk,并且配置完成<br>在 build.gradle 中加入编译的依赖,这会使用 retrolambda 来编译Java代码</p>
<pre><code>buildscript {
    //开始加入
    dependencies {
        classpath &apos;me.tatarka:gradle-retrolambda:3.1.0&apos;
    }
    //结束插入
}
</code></pre><p>同时要加入plugin声明</p>
<pre><code>apply plugin: &apos;me.tatarka.retrolambda&apos;
</code></pre><p>3 . 加入compileOptions,这会让IDE使用用JAVA8语法解析</p>
<pre><code>compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
}
</code></pre><p>4 . 指定将源码编译的级别,,使用下列代码,会将代码编译到兼容1.6的字节码格式</p>
<pre><code>retrolambda {
    javaVersion JavaVersion.VERSION_1_6
}
</code></pre><p>5 . 添加测试代码, 对于只有一个方法的接口,java8中可以使用lambda表达式代替,所以我们熟悉的设定View点击事件的代码,只要这样写就可以了</p>
<pre><code>v.setOnClickListener(v1 -&gt; Toast.makeText(getActivity(), &quot;clicked&quot;, Toast.LENGTH_LONG).show());
</code></pre><p>对比一下之前的代码量,是不是爽爆了?！！</p>
<pre><code>v.setOnClickListener(new View.OnClickListener(View v) {
@Override
    public void onClick(View v) {
        Toast.makeText(getActivity(), &quot;clicked&quot;, Toast.LENGTH_LONG).show()
    }
});
</code></pre><p>所有代码可以在这里找到:</p>
<p><a href="https://github.com/Juude/droidViews/blob/master/app/build.gradle" target="_blank" rel="external">http://tinyurl.com/qdbae7d</a></p>
<p><a href="https://github.com/evant/gradle-retrolambda/issues/74" target="_blank" rel="external">retrolambda配置参考</a><br><a href="http://www.jianshu.com/p/5fc2b3362702" target="_blank" rel="external">jdk1.8新特性之lambda表达式及在Android Studio中的使用</a><br><a href="http://www.importnew.com/10360.html" target="_blank" rel="external">Java 8简明教程</a></p>
<h4 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h4><h4 id="Lint-fails-on-java-files-that-have-lambdas"><a href="#Lint-fails-on-java-files-that-have-lambdas" class="headerlink" title="Lint fails on java files that have lambdas."></a>Lint fails on java files that have lambdas.</h4><p>由于Android’s lint doesn’t understand java 8 syntax and will fail silently or loudly.<br><a href="https://github.com/evant/android-retrolambda-lombok" target="_blank" rel="external">evant/android-retrolambda-lombok</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-Android/LearnOther" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/10/Android/LearnOther/" class="article-date">
      <time datetime="2016-01-10T11:41:31.000Z" itemprop="datePublished">2016-01-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/10/Android/LearnOther/">Title</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="其它收藏"><a href="#其它收藏" class="headerlink" title="其它收藏"></a>其它收藏</h4><p><a href="http://www.jianshu.com/p/76a633c3fdd6" target="_blank" rel="external">实现Android的在线更新</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-Android/LearnListView" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/10/Android/LearnListView/" class="article-date">
      <time datetime="2016-01-10T11:41:31.000Z" itemprop="datePublished">2016-01-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/10/Android/LearnListView/">Title</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="Android-ListView-使用"><a href="#Android-ListView-使用" class="headerlink" title="Android ListView 使用"></a>Android ListView 使用</h4><p><a href="https://developer.android.com/reference/android/widget/ListView.html" target="_blank" rel="external">ListView API</a><br><a href="http://www.jianshu.com/p/2d67690f13bd" target="_blank" rel="external">ListView要这么写</a><br><a href="http://www.jianshu.com/p/724b3bb7a410" target="_blank" rel="external">Android开发系列(2):ListView性能优化1</a><br><a href="http://blog.aaapei.com/article/2015/02/facebookxin-wen-ye-listviewyou-hua" target="_blank" rel="external">facebook新闻页ListView优化</a><br><a href="http://stackvoid.com/list-view-optimization-best-practice-android/" target="_blank" rel="external">Android ListView 优化最佳实践</a><br><a href="http://blog.csdn.net/guolin_blog/article/details/46361889" target="_blank" rel="external"> Android ListView功能扩展,实现高性能的瀑布流布局</a><br><a href="http://www.tqcto.com/article/mobile/38398.html" target="_blank" rel="external">android ListView开发常常用到的小知识点</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-Android/LearnGradle" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/10/Android/LearnGradle/" class="article-date">
      <time datetime="2016-01-10T11:41:31.000Z" itemprop="datePublished">2016-01-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/10/Android/LearnGradle/">Title</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="使用Gradle管理你的Android-Studio工程"><a href="#使用Gradle管理你的Android-Studio工程" class="headerlink" title="使用Gradle管理你的Android Studio工程"></a>使用Gradle管理你的Android Studio工程</h3><p><a href="https://github.com/D-clock/Doc/tree/master/Gradle" target="_blank" rel="external">重点*Gradle多渠道和自动化打包(基础篇).md</a><br><a href="https://github.com/rujews/android-tech-docs/blob/master/new-build-system/user-guide/README.md" target="_blank" rel="external">重点*Gradle中文文档</a><br><a href="http://www.flysnow.org/2015/03/30/manage-your-android-project-with-gradle.html" target="_blank" rel="external">使用Gradle管理你的Android Studio工程</a><br><a href="http://my.oschina.net/sammy1990/blog/268813" target="_blank" rel="external">使用Gradle构建Android项目</a><br><a href="http://blog.saymagic.cn/2015/01/10/androidstudio-gradle-Dependence.html" target="_blank" rel="external">Gradle里的三种依赖</a><br><a href="快速了解AndroidStudio的Gradle">快速了解AndroidStudio的Gradle</a><br><a href="http://www.cnblogs.com/youxilua/p/3348162.html" target="_blank" rel="external">Gradle 构建 android 应用常见问题解决指南</a><br><a href="http://my.oschina.net/zjzhai/blog/220028" target="_blank" rel="external">Gradle学习</a><br><a href="http://blog.csdn.net/feelang/article/details/41783317" target="_blank" rel="external">快速掌握 Android Studio 中 Gradle 的使用方法</a></p>
<p><a href="http://blog.danlew.net/2015/09/09/dont-use-dynamic-versions-for-your-dependencies/" target="_blank" rel="external">Don’t use dynamic versions for your dependencies</a></p>
<p><a href="http://www.sunmoonblog.com/blog/2015/06/05/gradle-tutorial-android/" target="_blank" rel="external">Gradle学习笔记(Android)</a><br><a href="http://jeepxiaozi.github.io/androidkai-fa-zhi-gradlebi-ji-zheng-li-1.html" target="_blank" rel="external">Android开发之Gradle笔记整理1</a><br><a href="http://jeepxiaozi.github.io/category/android-develop.html" target="_blank" rel="external">Android开发之Gradle笔记整理2——Gradle常用命令及UMeng多渠道打包实战</a></p>
<hr>
<p>[提高 Android Studio 编译速度]</p>
<p><a href="http://www.aswifter.com/2015/06/14/boost-android-studio/" target="_blank" rel="external">加快Android Studio的编译速度</a><br><a href="https://github.com/bboyfeiyu/android-tech-frontier/blob/master/issue-13/%E4%BC%98%E5%8C%96android-studio%E7%BC%96%E8%AF%91%E6%95%88%E7%8E%87%E7%9A%84%E6%96%B9%E6%B3%95.md" target="_blank" rel="external">优化android-studio编译效率的方法.md</a></p>
<p>任务task的执行</p>
<p>通常会有以下任务:</p>
<p><strong>assemble</strong> The task to assemble the output(s) of the project(输出一个项目文件,android就是打包apk)</p>
<p><strong>check</strong> The task to run all the checks.(运行检查,检查程序的错误,语法,等等)</p>
<p><strong>build</strong> This task does both assemble and check (执行assemble和check)</p>
<p><strong>clean</strong> This task cleans the output of the project(清理项目输出文件)</p>
<p>其它命令参考:<br>./gradlew build<br>./gradlew assemble<br>./gradlew assembleInnderDebug</p>
<h4 id="查看其他所有依赖关系"><a href="#查看其他所有依赖关系" class="headerlink" title="查看其他所有依赖关系"></a>查看其他所有依赖关系</h4><blockquote>
<p><a href="http://blog.danlew.net/2015/09/09/dont-use-dynamic-versions-for-your-dependencies/" target="_blank" rel="external">Don’t use dynamic versions for your dependencies</a><br>$ ./gradlew :app:dependencies<br>$ ./gradlew androidDependencies<br>$ ./gradlew buildscriptDependencies</p>
</blockquote>
<p>使用 gradlew compileDebug –stacktrace 命令调试查看输出 参考 <a href="http://stackoverflow.com/questions/16626026/android-studio-and-gradle-build-error" target="_blank" rel="external">Android Studio and Gradle build error</a></p>
<h3 id="apk-应用打包签名相关"><a href="#apk-应用打包签名相关" class="headerlink" title="apk 应用打包签名相关"></a>apk 应用打包签名相关</h3><p>查看密钥库证书指纹SHA1</p>
<pre><code>keytool -list -keystore coam.jks

Certificate fingerprints:
         MD5:  F1:DB:A0:07:72:4F:CC:1C:27:7A:83:AC:F0:01:04:18
         SHA1: B1:4E:98:0F:87:40:90:2B:C5:90:33:2C:1E:A2:9A:4E:95:8B:A0:C7
         SHA256: C2:FF:23:E8:18:11:3B:9C:6D:1C:DA:17:35:5D:A3:C8:DB:04:58:5F:8A:3B:C9:C2:0C:72:4D:F3:C6:A0:17:D9
         Signature algorithm name: SHA256withRSA
         Version: 3
</code></pre><h4 id="旧版-李邦提供"><a href="#旧版-李邦提供" class="headerlink" title="旧版,李邦提供"></a>旧版,李邦提供</h4><p>md5:    b11b96e0ca39d6ed04cbaefd29edadae这个是正式的签名,md5: 63ef90a0e13362902e7482673fe37df9这个是我机子上的测试签名</p>
<hr>
<h3 id="Android-App-Proguard-…"><a href="#Android-App-Proguard-…" class="headerlink" title="Android App Proguard …"></a>Android App Proguard …</h3><h2 id="Refresh"><a href="#Refresh" class="headerlink" title="Refresh"></a>Refresh</h2><p><a href="http://my.oschina.net/sammy1990/blog/271306" target="_blank" rel="external">使用proguard混淆android代码</a><br><a href="https://github.com/D-clock/Doc/blob/master/Gradle/4_AndroidStudio%E4%B8%8BProGuard%E6%B7%B7%E6%B7%86%E6%89%93%E5%8C%85.md" target="_blank" rel="external">AndroidStudio下ProGuard混淆打包</a><br><a href="https://github.com/D-clock/Doc/blob/master/Gradle/3_ProGuard%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E5%92%8C%E6%89%93%E5%8C%85%E9%85%8D%E7%BD%AE.md" target="_blank" rel="external">ProGuard基础语法和打包配置</a><br><a href="http://stackoverflow.com/questions/25314202/proguard-build-failure-with-lombok-annotation-library" target="_blank" rel="external">http://stackoverflow.com/questions/25314202/proguard-build-failure-with-lombok-annotation-library</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-Android/LearnAndroidFragment" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/10/Android/LearnAndroidFragment/" class="article-date">
      <time datetime="2016-01-10T11:41:31.000Z" itemprop="datePublished">2016-01-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/10/Android/LearnAndroidFragment/">Title</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="AndroidFragment-相关"><a href="#AndroidFragment-相关" class="headerlink" title="AndroidFragment 相关"></a>AndroidFragment 相关</h4><p><a href="http://www.cnblogs.com/purediy/p/3276545.html" target="_blank" rel="external">Android Fragment 生命周期图</a><br><a href="http://seniorzhai.github.io/2015/01/05/Fragment生命周期详解/" target="_blank" rel="external">Fragment生命周期详解</a><br><a href="https://asce1885.gitbooks.io/android-rd-senior-advanced/content/wo_wei_shi_yao_zhu_zhang_fan_dui_shi_yong_android_fragment.html" target="_blank" rel="external">我为什么主张反对使用Android Fragment</a><br><a href="https://github.com/zyfmix/AndroidNote/blob/master/Android%E5%9F%BA%E7%A1%80/Fragment%E4%B8%93%E9%A2%98.md" target="_blank" rel="external">Fragment专题.md</a><br><a href="http://www.lightskystreet.com/2015/02/02/fragment-note/" target="_blank" rel="external">Fragment笔记整理</a></p>
<hr>
<h4 id="Fragment-结合-DrawerLayout"><a href="#Fragment-结合-DrawerLayout" class="headerlink" title="Fragment 结合 DrawerLayout"></a>Fragment 结合 DrawerLayout</h4><p><a href="http://chenfuduo.me/2015/08/02/Fragment-Navigation-Drawer/" target="_blank" rel="external">Fragment Navigation Drawer</a></p>
<hr>
<h4 id="Fragment-旋屏及配置改变-运行数据保存问题"><a href="#Fragment-旋屏及配置改变-运行数据保存问题" class="headerlink" title="Fragment 旋屏及配置改变 运行数据保存问题"></a>Fragment 旋屏及配置改变 运行数据保存问题</h4><p><a href="http://www.race604.com/fast-note-keep-android-fragment-state/" target="_blank" rel="external">半分钟读完]Android中保存和恢复Fragment状态的最好方法</a><br><a href="http://www.jianshu.com/p/75dc2f51cd63" target="_blank" rel="external">保存和恢复 Android Fragment 的状态</a><br><a href="http://www.mincoder.com/article/3350.shtml" target="_blank" rel="external">用Fragment解决屏幕旋转(状态发生变化)状态不能保持的问题</a><br><a href="http://inthecheesefactory.com/blog/fragment-state-saving-best-practices/en" target="_blank" rel="external">The Real Best Practices to Save/Restore Activity’s and Fragment’s state. (StatedFragment is now deprecated)</a><br><a href="http://chenfuduo.me/2015/09/27/onSaveInstanceState%E5%92%8ConRestoreInstanceState%E5%9C%A8Activity%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%B8%AD%E7%9A%84%E4%BD%8D%E7%BD%AE/" target="_blank" rel="external">onSaveInstanceState和onRestoreInstanceState在Activity生命周期中的位置</a></p>
<hr>
<p><a href="http://blog.csdn.net/growing_tree/article/details/35230417" target="_blank" rel="external">ViewPager 和 Fragment 使用注意的问题</a><br><a href="http://chenfuduo.me/page/3/" target="_blank" rel="external">使用 ViewPager 和 Fragment 遇到的问题</a></p>
<p>在 Fragment 中使用 ViewPager 加载子 Fragment 一定要使用 getChildFragmentManager() 而不应该是 getSupportFragmentManager(),否则会出现切换后不显示内容</p>
<hr>
<p><a href="http://www.yrom.net/blog/2013/03/10/fragment-switch-not-restart/" target="_blank" rel="external">让多个Fragment 切换时不重新实例化</a></p>
<hr>
<p><a href="http://stackoverflow.com/questions/25313859/gettag-always-returns-null-when-called-in-fragment" target="_blank" rel="external">Fragment 设置Tag和Id的两种方式</a></p>
<p>Fragment tags are not automatically specified. You have to assign them yourself. There are several places to do it depending on how you attach fragment: in the XML or dynamically.</p>
<blockquote>
<p>一. If it’s define in XML then you can set it like this:</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">fragment</span> <span class="attribute">android:name</span>=<span class="value">"com.example.news.ArticleListFragment"</span></span><br><span class="line">    <span class="attribute">android:id</span>=<span class="value">"@+id/list"</span></span><br><span class="line">    <span class="attribute">android:tag</span>=<span class="value">"your_tag"</span></span><br><span class="line">    <span class="attribute">android:layout_weight</span>=<span class="value">"1"</span></span><br><span class="line">    <span class="attribute">android:layout_width</span>=<span class="value">"0dp"</span></span><br><span class="line">    <span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>二. If you add fragment dynamically then you can do it like this:</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ExampleFragment fragment = <span class="keyword">new</span> ExampleFragment();</span><br><span class="line">fragmentTransaction.add(R.id.fragment_container, fragment, <span class="string">"your_tag"</span>);</span><br><span class="line">fragmentTransaction.commit();</span><br></pre></td></tr></table></figure>
<p>两种方式均设定相同的Tag “your_tag”.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/7/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/9/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2016 张亚飞
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的静态博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减双栏 Hexo 博客主题">Yelee</a> by MOxFIVE
            </div>
        </div>
        <div class="visit">
            <span id="busuanzi_container_site_pv" style='display:none'>
                <span id="site-visit" >本站到访数: 
                    <span id="busuanzi_value_site_uv"></span>
                </span>
            </span>
            <span id="busuanzi_container_page_pv" style='display:none'>
                <span id="page-visit">, 本页阅读量: 
                    <span id="busuanzi_value_page_pv"></span>
                </span>
            </span>
        </div>
    </div>
</footer>
    </div>
    <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>

<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>